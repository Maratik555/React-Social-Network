(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{127:function(e,t,n){e.exports={item:"Post_item__iCs63"}},21:function(e,t,n){e.exports={nav:"Navbar_nav__2FYk7",item:"Navbar_item__3pqwu"}},237:function(e,t,n){},238:function(e,t,n){},283:function(e,t,n){"use strict";n.r(t);var r=n(9),s=n(10),a=n.n(s),c=n(16),i=n(33),o=n(5),u=n(124),l=n.n(u).a.create({withCredentials:!0,baseURL:"https://social-network.samuraijs.com/api/1.0/",headers:{"API-KEY":"04d1e858-69cf-47a6-a3e0-219dbf2b7dd1"}}),j=function(){var e=arguments;return Object(c.a)(a.a.mark((function t(){var n,r,s;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.length>0&&void 0!==e[0]?e[0]:1,r=e.length>1&&void 0!==e[1]?e[1]:5,t.next=4,l.get("users?page=".concat(n,"&count=").concat(r));case 4:return s=t.sent,t.abrupt("return",s.data);case 6:case"end":return t.stop()}}),t)})))()},d=function(e){return l.post("follow/".concat(e))},b=function(e){return l.delete("follow/".concat(e))},p=function(e){return console.warn("profileAPI object please"),f.getProfile(e)},f={getProfile:function(e){return l.get("profile/"+e)},getStatus:function(e){return l.get("profile/status/"+e)},updateStatus:function(e){return l.put("profile/status/",{status:e})}},O=function(){return l.get("auth/me")},h=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return l.post("auth/login",{email:e,password:t,rememberMe:n})},g=function(){return l.delete("auth/login")},m="ADD_POST",x="SET_USER_PROFILE",v="SET_STATUS",_="DELETE_POST",w={posts:[{id:1,message:"\u041f\u0440\u0438\u0432\u0435\u0442, \u043a\u0430\u043a \u0434\u0435\u043b\u0430?",like:10},{id:2,message:"Marat online",like:15},{id:3,message:"Marat offline",like:25},{id:4,message:"Marattt online",like:35},{id:5,message:"Maratik online",like:5}],newPostText:"Marat555",profile:null,status:""},S=function(e){return{type:v,status:e}},P=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case m:var n={id:5,message:t.newPostText,like:0};return Object(o.a)(Object(o.a)({},e),{},{newPostText:"",posts:[].concat(Object(i.a)(e.posts),[n])});case _:return Object(o.a)(Object(o.a)({},e),{},{posts:e.posts.filter((function(e){return e.id!==t.postId}))});case v:return Object(o.a)(Object(o.a)({},e),{},{status:t.status});case x:return Object(o.a)(Object(o.a)({},e),{},{profile:t.profile});default:return e}},y={dialogs:[{id:1,name:"Dima"},{id:2,name:"Sveta"},{id:3,name:"Sasha"},{id:4,name:"Andrey"},{id:5,name:"Victor"},{id:6,name:"Valery"}],messages:[{id:1,message:"Hi"},{id:2,message:"Hello"},{id:3,message:"Yo"},{id:4,message:"Hi"},{id:5,message:"Bye"}]},C=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SEND-MESSAGE":var n=t.newMessageBody;return Object(o.a)(Object(o.a)({},e),{},{messages:[].concat(Object(i.a)(e.messages),[{id:6,message:n}])});default:return e}},N={sidebar:{friends:[{id:1,name:"Dima"},{id:2,name:"Sveta"},{id:3,name:"Sasha"}]}},k=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N;return e},E="FOLLOW",I="UNFOLLOW",A="SET_USERS",T="SET_CURRENT_PAGE",M="SET_TOTAL_USERS_COUNT",F="TOGGLE_IS_FETCHING",z="TOGGLE_IS_FOLLOWING",L={users:[],pageSize:10,totalItemCount:0,currentPage:1,isFetching:!0,following:[]},U=function(e){return{type:E,userId:e}},B=function(e){return{type:I,userId:e}},D=function(e){return{type:T,currentPage:e}},R=function(e){return{type:F,isFetching:e}},G=function(e,t){return{type:z,isFetching:e,userId:t}},H=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:L,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case E:return Object(o.a)(Object(o.a)({},e),{},{users:e.users.map((function(e){return e.id===t.userId?Object(o.a)(Object(o.a)({},e),{},{followed:!0}):e}))});case I:return Object(o.a)(Object(o.a)({},e),{},{users:e.users.map((function(e){return e.id===t.userId?Object(o.a)(Object(o.a)({},e),{},{followed:!1}):e}))});case A:return Object(o.a)(Object(o.a)({},e),{},{users:t.users});case T:return Object(o.a)(Object(o.a)({},e),{},{currentPage:t.currentPage});case M:return Object(o.a)(Object(o.a)({},e),{},{totalItemCount:t.count});case F:return Object(o.a)(Object(o.a)({},e),{},{isFetching:t.isFetching});case z:return Object(o.a)(Object(o.a)({},e),{},{following:t.isFetching?[].concat(Object(i.a)(e.following),[t.userId]):e.following.filter((function(e){return e!==t.userId}))});default:return e}},W=n(40),Y="auth/SET_USER_DATA",q={userId:null,email:null,login:null,isAuth:!1},J=function(e,t,n,r){return{type:Y,payload:{userId:e,email:t,login:n,isAuth:r}}},Q=function(){return function(){var e=Object(c.a)(a.a.mark((function e(t){var n,r,s,c,i;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O();case 2:0===(n=e.sent).data.resultCode&&(r=n.data.data,s=r.id,c=r.login,i=r.email,t(J(s,i,c,!0)));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},V=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:q,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Y:return Object(o.a)(Object(o.a)({},e),t.payload);default:return e}},X=n(125),Z=n(123),K="SET_INITIALIZE",$={initialize:!1},ee=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case K:return Object(o.a)(Object(o.a)({},e),{},{initialize:!0});default:return e}},te=Object(r.c)({profilePage:P,dialogsPage:C,sidebar:k,usersPage:H,auth:V,form:Z.a,app:ee}),ne=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||r.d,re=Object(r.e)(te,ne(Object(r.a)(X.a))),se=n(1),ae=n.n(se),ce=n(64),ie=n.n(ce),oe=(n(237),n(25)),ue=n(26),le=n(28),je=n(27),de=(n(238),n(21)),be=n.n(de),pe=n(13),fe=n(0),Oe=function(){return Object(fe.jsxs)("nav",{className:be.a.nav,children:[Object(fe.jsx)("div",{className:be.a.item,children:Object(fe.jsx)(pe.b,{to:"/Profile",activeClassName:be.a.active,children:"Profile"})}),Object(fe.jsx)("div",{className:be.a.item,children:Object(fe.jsx)(pe.b,{to:"/Dialogs",activeClassName:be.a.active,children:"Messages"})}),Object(fe.jsx)("div",{className:be.a.item,children:Object(fe.jsx)(pe.b,{to:"/Users",activeClassName:be.a.active,children:"Users"})}),Object(fe.jsx)("div",{className:"".concat(be.a.item," ").concat(be.a.active),children:Object(fe.jsx)(pe.b,{to:"/News",children:"News"})}),Object(fe.jsx)("div",{className:be.a.item,children:Object(fe.jsx)(pe.b,{to:"/Music",children:"Music"})}),Object(fe.jsx)("div",{className:be.a.item,children:Object(fe.jsx)(pe.b,{to:"/Settings",children:"Settings"})})]})},he=n(12),ge=n(29),me=n.n(ge),xe=function(e){var t="/dialog/"+e.id;return Object(fe.jsx)("div",{className:me.a.dialogs+" "+me.a.active,children:Object(fe.jsx)(pe.b,{to:t,children:e.name})})},ve=function(e){return Object(fe.jsx)("div",{className:me.a.message,children:e.message})},_e=n(121),we=n(122),Se=function(e){if(!e)return"Field is required"},Pe=function(e){return function(t){if(t.length>e)return"Max length is ".concat(e," symbols")}},ye=n(128),Ce=n(53),Ne=n.n(Ce),ke=["input","meta"],Ee=function(e){return function(t){var n=t.input,r=t.meta,s=Object(ye.a)(t,ke),a=r.touched&&r.error;return Object(fe.jsxs)("div",{className:Ne.a.formControl+" "+(a?Ne.a.error:""),children:[Object(fe.jsx)(e,Object(o.a)(Object(o.a)({},n),s)),a&&Object(fe.jsxs)("span",{children:[" ",r.error," "]})]})}},Ie=Ee("textarea"),Ae=Pe(50),Te=Object(we.a)({form:"dialogs"})((function(e){return Object(fe.jsx)("form",{onSubmit:e.handleSubmit,children:Object(fe.jsxs)("div",{children:[Object(fe.jsx)(_e.a,{placeholder:"Enter your message",name:"newMessageBody",component:Ie,validate:[Se,Ae]}),Object(fe.jsx)("div",{children:Object(fe.jsx)("button",{children:"Send"})})]})})})),Me=function(e){var t=e.dialogsPage,n=t.dialogs.map((function(e){return Object(fe.jsx)(xe,{name:e.name,id:e.id},e.id)})),r=t.messages.map((function(e){return Object(fe.jsx)(ve,{message:e.message},e.id)}));return e.isAuth?Object(fe.jsxs)("div",{className:me.a.dialogs,children:[Object(fe.jsx)("div",{className:me.a.dialogItems,children:n}),Object(fe.jsx)("div",{className:me.a.messages,children:Object(fe.jsx)("div",{children:r})}),Object(fe.jsx)(Te,{onSubmit:function(t){e.sendMessage(t.newMessageBody)}})]}):Object(fe.jsx)(he.a,{to:"/login"})},Fe=n(11),ze=function(e){return{isAuth:e.auth.isAuth}},Le=Object(r.d)(Object(Fe.b)((function(e){return{dialogsPage:e.dialogsPage}}),(function(e){return{sendMessage:function(t){e(function(e){return{type:"SEND-MESSAGE",newMessageBody:e}}(t))}}})),(function(e){var t=function(t){Object(le.a)(r,t);var n=Object(je.a)(r);function r(){return Object(oe.a)(this,r),n.apply(this,arguments)}return Object(ue.a)(r,[{key:"render",value:function(){return this.props.isAuth?Object(fe.jsx)(e,Object(o.a)({},this.props)):Object(fe.jsx)(he.a,{to:"/login"})}}]),r}(ae.a.Component);return Object(Fe.b)(ze)(t)}))(Me),Ue=n(38),Be=n.n(Ue),De=n.p+"static/media/user.740864a6.png",Re=function(e){return Object(fe.jsxs)("div",{children:[Object(fe.jsxs)("span",{children:[Object(fe.jsx)("div",{children:Object(fe.jsx)(pe.b,{to:"/profile/"+e.user.id,children:Object(fe.jsx)("img",{src:null!=e.user.photos.small?e.user.photos.small:De,className:Be.a.userPhoto,alt:De})})}),Object(fe.jsx)("div",{children:e.user.followed?Object(fe.jsx)("button",{disabled:e.following.some((function(t){return t===e.user.id})),onClick:function(){e.unfollow(e.user.id)},children:"Unfollow"}):Object(fe.jsx)("button",{disabled:e.following.some((function(t){return t===e.user.id})),onClick:function(){e.follow(e.user.id)},children:"Follow"})})]}),Object(fe.jsxs)("div",{className:Be.a.nameSt,children:[e.user.name,Object(fe.jsx)("br",{}),e.user.status]}),Object(fe.jsxs)("div",{className:Be.a.loc,children:["u.location.country"," ",Object(fe.jsx)("br",{})," ","u.location.city"]})]})},Ge=n(55),He=function(e){for(var t=e.totalItemCount,n=e.pageSize,r=e.currentPage,s=e.onPageChanged,a=e.portionSize,c=void 0===a?10:a,i=Math.ceil(t/n),o=[],u=1;u<=i;u++)o.push(u);var l=Math.ceil(i/c),j=Object(se.useState)(1),d=Object(Ge.a)(j,2),b=d[0],p=d[1],f=(b-1)*c+1,O=b*c;return Object(se.useEffect)((function(){return p(Math.ceil(r/c))}),[r,c]),Object(fe.jsxs)("div",{children:[b>1&&Object(fe.jsx)("button",{onClick:function(){p(b-1)},children:"PREV"}),o.filter((function(e){return e>=f&&e<=O})).map((function(e){return Object(fe.jsx)("span",{className:r===e&&Be.a.selectedPage,onClick:function(){s(e)},children:e},e)})),l>b&&Object(fe.jsx)("button",{onClick:function(){p(b+1)},children:"NEXT"})]})},We=function(e){var t=Object.assign({},e);return Object(fe.jsxs)("div",{children:[Object(fe.jsx)(He,{totalItemCount:t.totalItemCount,pageSize:t.pageSize,onPageChanged:t.onPageChanged,currentPage:t.currentPage}),Object(fe.jsx)("div",{children:t.users.map((function(e){return Object(fe.jsx)(Re,{user:e,following:t.following,follow:t.follow,unfollow:t.unfollow},e.id)}))})]})},Ye=function(){return Object(fe.jsx)("div",{className:"lds-dual-ring"})},qe=function(e){return e.usersPage.users},Je=function(e){return e.usersPage.pageSize},Qe=function(e){return e.usersPage.totalItemCount},Ve=function(e){return e.usersPage.currentPage},Xe=function(e){return e.usersPage.isFetching},Ze=function(e){return e.usersPage.following},Ke=function(e){Object(le.a)(n,e);var t=Object(je.a)(n);function n(){var e;Object(oe.a)(this,n);for(var r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];return(e=t.call.apply(t,[this].concat(s))).onPageChanged=function(t){e.props.getUsers(t,e.props.pageSize)},e}return Object(ue.a)(n,[{key:"componentDidMount",value:function(){this.props.getUsers(this.props.currentPage,this.props.pageSize)}},{key:"render",value:function(){return Object(fe.jsxs)(fe.Fragment,{children:[this.props.isFetching?Object(fe.jsx)(Ye,{}):null,Object(fe.jsx)(We,{totalItemCount:this.props.totalItemCount,pageSize:this.props.pageSize,currentPage:this.props.currentPage,onPageChanged:this.onPageChanged,users:this.props.users,follow:this.props.follow,unfollow:this.props.unfollow,following:this.props.following})]})}}]),n}(ae.a.Component),$e=Object(r.d)(Object(Fe.b)((function(e){return{users:qe(e),pageSize:Je(e),totalItemCount:Qe(e),currentPage:Ve(e),isFetching:Xe(e),following:Ze(e)}}),{follow:function(e){return function(){var t=Object(c.a)(a.a.mark((function t(n){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return G(!0,e),t.next=3,d(e);case 3:0===t.sent.data.resultCode&&n(U(e)),n(G(!1,e));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},unfollow:function(e){return function(){var t=Object(c.a)(a.a.mark((function t(n){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return G(!0,e),t.next=3,b(e);case 3:0===t.sent.data.resultCode&&n(B(e)),n(G(!1,e));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},setCurrentPage:D,toggleFollowing:G,getUsers:function(e,t){return function(){var n=Object(c.a)(a.a.mark((function n(r){var s;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r(R(!0)),n.next=3,j(e,t);case 3:s=n.sent,r(D(e)),r(R(!1)),r((c=s.items,{type:A,users:c})),r((a=s.totalCount,{type:M,count:a}));case 8:case"end":return n.stop()}var a,c}),n)})));return function(e){return n.apply(this,arguments)}}()}}))(Ke),et=n(90),tt=n.n(et),nt=function(e){var t=Object(se.useState)(!1),n=Object(Ge.a)(t,2),r=n[0],s=n[1],a=Object(se.useState)(e.status),c=Object(Ge.a)(a,2),i=c[0],o=c[1];Object(se.useEffect)((function(){o(e.status)}),[e.status]);return Object(fe.jsxs)("div",{children:[!r&&Object(fe.jsx)("div",{children:Object(fe.jsx)("span",{onClick:function(){return s(!0)},children:e.status||"\u041d\u0435\u0442 \u0441\u0442\u0430\u0442\u0443\u0441\u0430"})}),r&&Object(fe.jsxs)("div",{children:[Object(fe.jsx)("input",{autoFocus:!0,onBlur:function(){s(!1),e.updateStatus(i)},onChange:function(e){e.target.value.length<=300&&o(e.target.value)},value:i}),Object(fe.jsxs)("div",{style:{color:"white"},children:[e.status.length,"/300"]})]})]})},rt=function(e){return e.profile?Object(fe.jsxs)("div",{children:[Object(fe.jsx)("div",{className:tt.a.proImg}),Object(fe.jsxs)("div",{className:tt.a.desBloc,children:[Object(fe.jsx)("img",{src:e.profile.photos.large,alt:"profile"}),Object(fe.jsx)(nt,{status:e.status,updateStatus:e.updateStatus})]})]}):Object(fe.jsx)(Ye,{})},st=n(69),at=n.n(st),ct=n(127),it=n.n(ct),ot=n.p+"static/media/2.3903e8ad.png",ut=function(e){return Object(fe.jsxs)("div",{className:it.a.item,children:[Object(fe.jsx)("img",{src:ot,alt:"it"}),e.message,Object(fe.jsxs)("div",{children:[Object(fe.jsx)("span",{children:"Like"})," ",e.like]})]})},lt=Pe(10),jt=Ee("textarea"),dt=Object(we.a)({form:"ProfileAddNewForm"})((function(e){return Object(fe.jsxs)("form",{onSubmit:e.handleSubmit,children:[Object(fe.jsx)("div",{children:Object(fe.jsx)(_e.a,{placeholder:"New Post",name:"newPostText",component:jt,validate:[Se,lt]})}),Object(fe.jsxs)("div",{className:at.a.btn,children:[Object(fe.jsx)("button",{children:"Add"}),Object(fe.jsx)("button",{children:"Remove"})]})]})})),bt=function(e){var t=Object(i.a)(e.posts).reverse().map((function(e){return Object(fe.jsx)(ut,{message:e.message,like:e.like},e.id)}));return Object(fe.jsxs)("div",{className:at.a.pBlock,children:[Object(fe.jsx)("h2",{children:"My posts"}),Object(fe.jsx)(dt,{onSubmit:function(t){e.addPost(t.newPostText)}}),Object(fe.jsx)("div",{className:at.a.posts,children:t})]})},pt=Object(Fe.b)((function(e){return{posts:e.profilePage.posts,newPostText:e.profilePage.newPostText}}),(function(e){return{addPost:function(t){e(function(e){return{type:m,newPostText:e}}(t))}}}))(bt),ft=function(e){return Object(fe.jsxs)("div",{children:[Object(fe.jsx)(rt,{profile:e.profile,status:e.status,updateStatus:e.updateStatus}),Object(fe.jsx)(pt,{})]})},Ot=function(e){Object(le.a)(n,e);var t=Object(je.a)(n);function n(){return Object(oe.a)(this,n),t.apply(this,arguments)}return Object(ue.a)(n,[{key:"componentDidMount",value:function(){var e=this.props.match.params.userId;e||(e=this.props.authUserId)||this.props.history.push("/login"),this.props.getUserProfile(e),this.props.getStatus(e)}},{key:"render",value:function(){return Object(fe.jsx)(ft,Object(o.a)(Object(o.a)({},this.props),{},{profile:this.props.profile,status:this.props.status,updateStatus:this.props.updateStatus}))}}]),n}(ae.a.Component),ht=Object(r.d)(Object(Fe.b)((function(e){return{profile:e.profilePage.profile,status:e.profilePage.status,authUserId:e.auth.userId,isAuth:e.auth.isAuth}}),{getUserProfile:function(e){return function(){var t=Object(c.a)(a.a.mark((function t(n){var r;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,p(e);case 2:r=t.sent,n((s=r.data,{type:x,profile:s}));case 4:case"end":return t.stop()}var s}),t)})));return function(e){return t.apply(this,arguments)}}()},getStatus:function(e){return function(){var t=Object(c.a)(a.a.mark((function t(n){var r;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,f.getStatus(e);case 2:r=t.sent,n(S(r.data));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},updateStatus:function(e){return function(){var t=Object(c.a)(a.a.mark((function t(n){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,f.updateStatus(e);case 2:0===t.sent.data.resultCode&&n(S(e));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}}),he.f)(Ot),gt=n(91),mt=n.n(gt),xt=n.p+"static/media/logo.ef20e673.png",vt=function(e){return Object(fe.jsxs)("header",{className:mt.a.header,children:[Object(fe.jsx)("img",{src:xt,alt:"fb"}),Object(fe.jsx)("h1",{children:Object(fe.jsx)("b",{children:"REACT NETWORK"})}),Object(fe.jsx)("div",{className:mt.a.loginBlock,children:e.isAuth?Object(fe.jsxs)("div",{children:[e.login," ",Object(fe.jsx)("button",{style:{marginRight:20},onClick:e.logout,children:"Log out"})]}):Object(fe.jsx)(pe.b,{to:"/Login",children:"Login"})})]})},_t=function(e){Object(le.a)(n,e);var t=Object(je.a)(n);function n(){return Object(oe.a)(this,n),t.apply(this,arguments)}return Object(ue.a)(n,[{key:"render",value:function(){return Object(fe.jsx)(vt,Object(o.a)({},this.props))}}]),n}(ae.a.Component),wt=Object(Fe.b)((function(e){return{isAuth:e.auth.isAuth,login:e.auth.login}}),{logout:function(){return function(){var e=Object(c.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g();case 2:0===e.sent.data.resultCode&&t(J(null,null,null,!1));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}})(_t),St=Ee("input"),Pt=Pe(15),yt=Object(we.a)({form:"login"})((function(e){return Object(fe.jsxs)("form",{onSubmit:e.handleSubmit,children:[Object(fe.jsx)("div",{children:Object(fe.jsx)(_e.a,{placeholder:"Email",name:"email",component:St,validate:[Se,Pt]})}),Object(fe.jsx)("div",{children:Object(fe.jsx)(_e.a,{placeholder:"password",name:"password",type:"password",component:St,validate:[Se,Pt]})}),Object(fe.jsxs)("div",{children:[Object(fe.jsx)(_e.a,{type:"checkbox",name:"rememberMe",component:St})," remember me"]}),e.error&&Object(fe.jsx)("div",{className:Ne.a.formError,children:e.error}),Object(fe.jsx)("div",{children:Object(fe.jsx)("button",{children:"Login"})})]})})),Ct=Object(Fe.b)((function(e){return{isAuth:e.auth.isAuth}}),{login:function(e,t,n){return function(){var r=Object(c.a)(a.a.mark((function r(s){var c,i;return a.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,h(e,t,n);case 2:0===(c=r.sent).data.resultCode?s(Q()):(i=c.data.message.length>0?c.data.message[0]:"Error",s(Object(W.a)("login",{_error:i})));case 4:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()}})((function(e){return e.isAuth?Object(fe.jsx)(he.a,{to:"/profile"}):Object(fe.jsxs)("div",{children:[Object(fe.jsx)("h1",{children:"Login"}),Object(fe.jsx)(yt,{onSubmit:function(t){e.login(t.email,t.password,t.rememberMe)}})]})})),Nt=function(e){Object(le.a)(n,e);var t=Object(je.a)(n);function n(){return Object(oe.a)(this,n),t.apply(this,arguments)}return Object(ue.a)(n,[{key:"componentDidMount",value:function(){this.props.initializeApp()}},{key:"render",value:function(){return this.props.initialize?Object(fe.jsxs)("div",{className:"app-wrapper",children:[Object(fe.jsx)(wt,{}),Object(fe.jsx)(Oe,{}),Object(fe.jsx)("div",{className:"app-wrapper-content",children:Object(fe.jsxs)(se.Suspense,{fallback:Object(fe.jsx)(Ye,{}),children:[Object(fe.jsx)(he.b,{path:"/dialogs",render:function(){return Object(fe.jsx)(Le,{})}}),Object(fe.jsx)(he.b,{path:"/dialogs",render:function(){return Object(fe.jsx)(Le,{})}}),Object(fe.jsx)(he.b,{path:"/profile/:userId?",render:function(){return Object(fe.jsx)(ht,{})}}),Object(fe.jsx)(he.b,{path:"/users",render:function(){return Object(fe.jsx)($e,{})}}),Object(fe.jsx)(he.b,{path:"/login",render:function(){return Object(fe.jsx)(Ct,{})}})]})})]}):Object(fe.jsx)(Ye,{})}}]),n}(se.Component),kt=Object(r.d)(he.f,Object(Fe.b)((function(e){return{initialize:e.app.initialize}}),{initializeApp:function(){return function(e){e(Q()).then((function(){e({type:K})}))}}}))(Nt);ie.a.render(Object(fe.jsx)(pe.a,{children:Object(fe.jsx)(Fe.a,{store:re,children:Object(fe.jsx)(kt,{})})}),document.getElementById("root"))},29:function(e,t,n){e.exports={dialogs:"Dialogs_dialogs__2sE08",dialogItems:"Dialogs_dialogItems__3glff",active:"Dialogs_active__2QMhb",messages:"Dialogs_messages__rzAoN",message:"Dialogs_message__3t4Ec"}},38:function(e,t,n){e.exports={userPhoto:"users_userPhoto__Cx4zy",selectedPage:"users_selectedPage__2xQp5",glowing:"users_glowing__BoB5b",nameSt:"users_nameSt__StQ_r",loc:"users_loc__1Ymkq","lds-dual-ring":"users_lds-dual-ring__j_mvB"}},53:function(e,t,n){e.exports={formControl:"FormsControl_formControl__3c8Wi",error:"FormsControl_error__3JOJt",formError:"FormsControl_formError__1FCf7"}},69:function(e,t,n){e.exports={pBlock:"MyPosts_pBlock__UX_Zz",posts:"MyPosts_posts__2qy-e",btn:"MyPosts_btn__2CHvg"}},90:function(e,t,n){e.exports={proImg:"ProfileInfo_proImg__1c3L2",desBloc:"ProfileInfo_desBloc__2ZAtQ"}},91:function(e,t,n){e.exports={header:"Header_header__35h9M",loginBlock:"Header_loginBlock__WdolY"}}},[[283,1,2]]]);
//# sourceMappingURL=main.1cd54500.chunk.js.map